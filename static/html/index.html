<!DOCTYPE html>
<html>

<head>
  <title>Posex - Estimated Image Generator for Pose2Image</title>
  <link rel="icon" type="image/png" href="/image/favicon.png">
  <link rel="stylesheet" href="/css/main.css">
  <script async src="/js/es-module-shims.js"></script>
  <script type="importmap">
      {
        "imports": {
          "three": "/js/three.module.js",
          "three-trackballcontrols": "/js/TrackballControls.js",
          "three-dragcontrols": "/js/DragControls.js",
          "three-meshline": "/js/THREE.MeshLine.Module.min.js",
          "main": "/js/main.js"
        }
      }
    </script>
  <script type="esms-options">
        {
            "noLoadEventRetriggers": true
        }
    </script>
  <script type="module">
    import { init, init_3d } from 'main';
    document.addEventListener('DOMContentLoaded', () => {
      const ui = {
        canvas: document.querySelector('#main_canvas'),
        notation: document.querySelector('#notation'),
        indicator1: document.querySelector('#body_indicator1'),
        indicator2: document.querySelector('#body_indicator2'),
        all_reset: document.querySelector('#all_reset'),
        reset_camera: document.querySelector('#reset_camera'),
        reset_pose: document.querySelector('#reset_pose'),
        add_body: document.querySelector('#add_body'),
        remove_body: document.querySelector('#remove_body'),
        canvas_width: document.querySelector('#canvas_width'),
        canvas_height: document.querySelector('#canvas_height'),
        save: document.querySelector('#save_button'),
        copy: document.querySelector('#copy_button'),
        notify: function () {
          function notify(str, type) {
            if (type === undefined) type = 'success';

            const p = document.createElement('p');
            p.textContent = str;
            p.classList.add('item', type);
            const cont = document.querySelector('#notifications');
            cont.appendChild(p);
            setTimeout(() => cont.removeChild(p), 3000);
          }
        },
      };

      init(ui);
      const animate = init_3d(ui);
      animate();
    }, false);
  </script>
</head>

<body>
  <div id="cont">
    <button id="all_reset" class="box">&#x1f504; All Reset</button>
    <div style="display: flex; flex-direction: row; gap: 0 0.5em;">
      <button id="reset_camera" class="box" style="flex: 1 1 0">&#x1f3a5; Reset Camera</button>
      <button id="reset_pose" class="box" style="flex: 1 1 0">&#x1f9cd; Reset Pose</button>
    </div>
    <div style="display: flex; flex-direction: row; ">

      <canvas width="512" height="512" id="main_canvas"></canvas>

      <div style="margin-left: 1em; display: flex; flex-direction: column; gap: 0.25em; font-size: smaller;">
        <div>- Body</div>
        <button id="add_body" style="width: max-content; min-width: 100%; text-align: left;">&#x2795; Add</button>
        <button id="remove_body" style="width: max-content; min-width: 100%; text-align: left;">&#x2796; Remove</button>
        <div>- Canvas Size</div>
        <input type="number" id="canvas_width" value="512" min="64" />
        <input type="number" id="canvas_height" value="512" min="64" />
      </div>
    </div>
    <div id="body_indicator2"></div>
    <div id="body_indicator1"></div>
    <a id="save_button" class="box" href="#">&#x1f4be; Save</a>
    <a id="copy_button" class="box" href="#">&#x1f4cb; Copy to clipboard</a>
  </div>
  <p id="notation"></p>
  <div id="notifications"></div>
</body>

</html>